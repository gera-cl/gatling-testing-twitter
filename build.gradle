plugins {
    id 'scala'
    id 'io.gatling.gradle' version '3.8.4'
}

gatling {
    logLevel = 'WARN'
    logHttp = 'FAILURES'
}

repositories {
    mavenCentral()
}

dependencies {
    gatling 'com.goterl:lazysodium-java:5.1.1'
    gatling 'net.java.dev.jna:jna:5.12.1'
    gatling 'com.squareup.okhttp3:okhttp:4.10.0'
}

task runAuthApp(type: JavaExec) {
    group = 'Auth'
    description = 'Run app for Twitter authentication'
    classpath = sourceSets.gatling.runtimeClasspath
    main = 'cl.gera.apitwitter2.auth.AuthApp'
}